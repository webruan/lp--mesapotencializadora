const playBtn=document.getElementById("play"),video=document.getElementById("video"),image=document.getElementById("image"),elements=document.getElementById("text"),cancelBtn=document.getElementById("cancel-container");let wasVideoPlayed=!1;function isVideoVisible(e){const{top:t,bottom:d,left:i,right:n}=e.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight,l=window.innerWidth||document.documentElement.clientWidth;return t<=o&&d>=0&&(i<=l&&n>=0)}function toggleElementClass(e,t){e.classList.remove(t?"hide":"show"),e.classList.add(t?"show":"hide")}function showVideo(){0==wasVideoPlayed&&(video.src="./src/assets/videos/home.mp4"),video.play(),video.style.zIndex=0,toggleElementClass(video,!0),toggleElementClass(cancelBtn,!0),toggleElementClass(elements,!1),image.classList.add("hide"),wasVideoPlayed=!0,video.addEventListener("ended",(()=>hideVideo(resetVideo=!0)))}function hideVideo(){resetVideo?video.load():video.pause(),toggleElementClass(video,!1),toggleElementClass(cancelBtn,!1),toggleElementClass(elements,!0),image.classList.remove("hide"),video.removeEventListener("ended",hideVideo)}window.addEventListener("scroll",(()=>{isVideoVisible(video)||hideVideo(resetVideo=!1)})),playBtn.addEventListener("click",showVideo),cancelBtn.addEventListener("click",(()=>hideVideo(resetVideo=!0)));